import{b as t,a2 as C,w as u,a3 as f,h,a4 as v,o as F,c as A,z as o,t as p,F as b,d as g,G as m,_ as x,a as y,O as E}from"./chunks/framework.baa790c2.js";function R(a){return{"[object Number]":"number","[object Boolean]":"boolean","[object String]":"string","[object Function]":"function","[object Array]":"array","[object Object]":"object","[object Null]":"null","[object Undefined]":"undefined","[object Date]":"date","[object RegExp]":"regexp","[object Proxy]":"proxy","[Object Symbol]":"symbol"}[Object.prototype.toString.call(a)]}function D(a,s){const l=R(a);let n;if(l==="array")n=[],s!=null&&s.deep?a.forEach(c=>n.push(D(c,s))):n=[...a];else if(l==="object")if(n={},s!=null&&s.deep)for(var e in a)n[e]=D(a[e],s);else n={...a};else n=a;return n}function _(a,s){let l=t(a);return C(a)&&(l=D(a,s)),s!=null&&s.manual&&u(a,()=>{debugger;const n=_(a,{deep:s.deep,manual:!1});Object.assign(l,n)},{...s,deep:!0}),l}function r(a,s={}){let{deep:l=!1,clone:n,manual:e=!1}=s;return f(a)||C(a)?n||(n=_):n||(n=D),n(a,{deep:l,manual:e})}const j={__name:"demo",setup(a){const s={count:0,text:"demo"},l=h(s),n=v(s),e=r(s),c=r(l),i=r(n),d=r(n,{deep:!0,manual:!0});debugger;return console.log(JSON.stringify(d)),u(n,()=>{console.log(JSON.stringify(d))}),n.count=2,(V,w)=>(F(),A(b,null,[o("div",null,"state:"+p(s)),o("div",null,"stateCloned:"+p(t(e)),1),o("div",null,"state is stateCloned: "+p(s==t(e)),1),o("div",null,"stateRefCloned:"+p(t(c)),1),o("div",null,"stateRefCloned is Ref:"+p(f(t(c))),1),o("div",null,"stateReactiveCloned:"+p(t(i)),1),o("div",null,"stateReactiveCloned is Reactive:"+p(C(t(i))),1)],64))}},S={class:"demo-wrapper"},N=g({__name:"DemoContainer",props:{moduleName:{}},setup(a){return(s,l)=>(F(),A("div",S,[m(j)]))}});const O=x(N,[["__scopeId","data-v-03ac3add"]]),k=o("h1",{id:"useclone",tabindex:"-1"},[y("useClone "),o("a",{class:"header-anchor",href:"#useclone","aria-label":'Permalink to "useClone"'},"​")],-1),P=o("p",null,[y("拷贝对象，"),o("code",null,"ref"),y(" 和 "),o("code",null,"reactive"),y(" 响应式对象返回一个普通对象。")],-1),T=E(`<h2 id="使用" tabindex="-1">使用 <a class="header-anchor" href="#使用" aria-label="Permalink to &quot;使用&quot;">​</a></h2><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> copyState</span><span style="color:#89DDFF;">=</span><span style="color:#82AAFF;">useClone</span><span style="color:#A6ACCD;">(state</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> options)</span></span></code></pre></div><p>options: object</p><ul><li>deep: boolean是否深复制</li><li>manual: boolean复制的普通对象和state值同步</li></ul><h3 id="复制普通对象" tabindex="-1">复制普通对象 <a class="header-anchor" href="#复制普通对象" aria-label="Permalink to &quot;复制普通对象&quot;">​</a></h3><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">useClone</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./vue-surplus</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> state </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">count</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">text</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">demo</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> copyState</span><span style="color:#89DDFF;">=</span><span style="color:#82AAFF;">useClone</span><span style="color:#A6ACCD;">(state)</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(copyState) </span><span style="color:#676E95;font-style:italic;">// { count: 0, text: &#39;demo&#39; }</span></span></code></pre></div><h3 id="将响应对象转换为普通对象" tabindex="-1">将响应对象转换为普通对象 <a class="header-anchor" href="#将响应对象转换为普通对象" aria-label="Permalink to &quot;将响应对象转换为普通对象&quot;">​</a></h3><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">isReactive</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">isRef</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">reactive</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">ref</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">vue</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">useClone</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./index</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> state </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">count</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">text</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">demo</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> stateRef </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">ref</span><span style="color:#A6ACCD;">(state)</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> stateReactive </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">reactive</span><span style="color:#A6ACCD;">(state)</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> stateRefCloned </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">useClone</span><span style="color:#A6ACCD;">(stateRef)</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> stateReactiveCloned </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">useClone</span><span style="color:#A6ACCD;">(stateReactive)</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(stateRefCloned) </span><span style="color:#676E95;font-style:italic;">// { count: 0, text: &#39;demo&#39; }</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(stateReactiveCloned) </span><span style="color:#676E95;font-style:italic;">// { count: 0, text: &#39;demo&#39; }</span></span></code></pre></div><h3 id="响应复制" tabindex="-1">响应复制 <a class="header-anchor" href="#响应复制" aria-label="Permalink to &quot;响应复制&quot;">​</a></h3><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">reactive</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">watch</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">vue</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">useClone</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./index</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> state </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">count</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">text</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">demo</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> stateReactive </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">reactive</span><span style="color:#A6ACCD;">(state)</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> stateWatchCloned </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">useClone</span><span style="color:#A6ACCD;">(stateReactive</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">manual</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(JSON</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">stringify</span><span style="color:#A6ACCD;">(stateWatchCloned)) </span><span style="color:#676E95;font-style:italic;">// { count: 0, text: &#39;demo&#39; }</span></span>
<span class="line"><span style="color:#82AAFF;">watch</span><span style="color:#A6ACCD;">(stateReactive</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">JSON</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">stringify</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">stateWatchCloned</span><span style="color:#F07178;">)) </span><span style="color:#676E95;font-style:italic;">// { count: 2, text: &#39;demo&#39; }</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">stateReactive</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">count </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">2</span></span></code></pre></div>`,10),B=JSON.parse('{"title":"useClone","description":"","frontmatter":{},"headers":[],"relativePath":"core/useClone/index.md","filePath":"core/useClone/index.md"}'),q={name:"core/useClone/index.md"},W=Object.assign(q,{setup(a){return(s,l)=>(F(),A("div",null,[k,P,m(O),T]))}});export{B as __pageData,W as default};
